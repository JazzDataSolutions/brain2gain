# ============================================================================
# Brain2Gain Environment Configuration - Domain Separation
# Phase 1: Architecture Separation (Tienda vs ERP)
# ============================================================================

# === DOMAIN CONFIGURATION ===
DOMAIN_STORE=tienda.brain2gain.com
DOMAIN_ERP=erp.brain2gain.com
DOMAIN_API=api.brain2gain.com
DOMAIN_ADMIN=admin.brain2gain.com

# === API GATEWAY ===
API_GATEWAY_URL=https://api.brain2gain.com
KONG_ADMIN_URL=http://localhost:8081

# === JWT SECRETS (Generate unique for each environment) ===
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_SECRET_STORE=store-specific-jwt-secret-change-this
JWT_SECRET_ERP=erp-specific-jwt-secret-change-this
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# === API KEYS ===
ERP_API_KEY=erp-api-key-change-this-in-production
MOBILE_API_KEY=mobile-api-key-change-this-in-production

# === SEPARATED DATABASES ===
# Auth Service Database
AUTH_DATABASE_URL=postgresql://auth_user:auth_password@auth-db:5432/auth_db

# Product Service Database
PRODUCT_DATABASE_URL=postgresql://product_user:product_password@product-db:5432/product_db

# Order Service Database
ORDER_DATABASE_URL=postgresql://order_user:order_password@order-db:5432/order_db

# Inventory Service Database
INVENTORY_DATABASE_URL=postgresql://inventory_user:inventory_password@inventory-db:5432/inventory_db

# === REDIS CONFIGURATION ===
REDIS_URL=redis://redis:6379
REDIS_AUTH_DB=0
REDIS_PRODUCT_DB=1
REDIS_ORDER_DB=2
REDIS_INVENTORY_DB=3
REDIS_KONG_DB=4
REDIS_SESSIONS_DB=5

# === MESSAGE QUEUE ===
RABBITMQ_URL=amqp://guest:guest@rabbitmq:5672/
RABBITMQ_EXCHANGE=brain2gain.events
RABBITMQ_QUEUE_ORDERS=orders.events
RABBITMQ_QUEUE_INVENTORY=inventory.events
RABBITMQ_QUEUE_NOTIFICATIONS=notifications.events

# === ELASTICSEARCH ===
ELASTICSEARCH_URL=http://elasticsearch:9200
ELASTICSEARCH_INDEX_PRODUCTS=brain2gain-products
ELASTICSEARCH_INDEX_LOGS=brain2gain-logs

# === MICROSERVICES CONFIGURATION ===
# Auth Service
AUTH_SERVICE_URL=http://auth-service:8000
AUTH_SERVICE_ENABLED=true

# Product Service
PRODUCT_SERVICE_URL=http://product-service:8000
PRODUCT_SERVICE_ENABLED=true

# Order Service
ORDER_SERVICE_URL=http://order-service:8000
ORDER_SERVICE_ENABLED=true

# Inventory Service
INVENTORY_SERVICE_URL=http://inventory-service:8000
INVENTORY_SERVICE_ENABLED=true

# === FRONTEND CONFIGURATION ===
# Store Frontend (B2C)
VITE_STORE_API_URL=${API_GATEWAY_URL}
VITE_STORE_ENABLE_ADMIN=false
VITE_STORE_ENABLE_ANALYTICS=true
VITE_STORE_ENABLE_PWA=true
VITE_STORE_REQUIRE_AUTH=false

# ERP Frontend (B2B)
VITE_ERP_API_URL=${API_GATEWAY_URL}
VITE_ERP_ENABLE_STORE=false
VITE_ERP_ENABLE_NOTIFICATIONS=true
VITE_ERP_REQUIRE_AUTH=true

# === EXTERNAL SERVICES ===
# Email Service
EMAIL_SERVICE=sendgrid
EMAIL_API_KEY=your-email-api-key
FROM_EMAIL=noreply@brain2gain.com
FROM_NAME=Brain2Gain

# SMS Service
SMS_SERVICE=twilio
SMS_API_KEY=your-sms-api-key
SMS_FROM_NUMBER=+1234567890

# Push Notifications
PUSH_SERVICE=firebase
PUSH_API_KEY=your-push-api-key
PUSH_PROJECT_ID=brain2gain-notifications

# === STORAGE ===
# S3 Compatible Storage
S3_ENDPOINT=https://s3.amazonaws.com
S3_BUCKET=brain2gain-assets
S3_ACCESS_KEY=your-s3-access-key
S3_SECRET_KEY=your-s3-secret-key
S3_REGION=us-east-1

# === MONITORING & LOGGING ===
# Sentry for Error Tracking
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# Datadog for APM
DATADOG_API_KEY=your-datadog-api-key
DATADOG_SITE=datadoghq.com

# === ENVIRONMENT ===
ENVIRONMENT=development
DEBUG=true
LOG_LEVEL=info

# === SECURITY ===
# CORS Configuration
CORS_ORIGINS=https://tienda.brain2gain.com,https://erp.brain2gain.com,http://localhost:3000,http://localhost:3001
CORS_ALLOW_CREDENTIALS=true

# Rate Limiting
RATE_LIMIT_PER_MINUTE=100
RATE_LIMIT_PER_HOUR=1000

# === SSL/TLS ===
# Let's Encrypt Email for SSL certificates
LETSENCRYPT_EMAIL=admin@brain2gain.com

# === FEATURE FLAGS ===
ENABLE_EVENT_SOURCING=true
ENABLE_CQRS=false
ENABLE_SAGA_PATTERN=false
ENABLE_CIRCUIT_BREAKER=true
ENABLE_DISTRIBUTED_TRACING=true

# === PERFORMANCE ===
# Database Connection Pools
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=0
DB_POOL_TIMEOUT=30

# Redis Connection Pool
REDIS_POOL_SIZE=10

# HTTP Timeouts
HTTP_TIMEOUT=30
HTTP_CONNECT_TIMEOUT=10

# === BUSINESS CONFIGURATION ===
# Tax and Pricing
DEFAULT_CURRENCY=USD
TAX_RATE=0.16
SHIPPING_COST=5.99
FREE_SHIPPING_THRESHOLD=50.00

# Inventory Alerts
LOW_STOCK_THRESHOLD=10
REORDER_POINT_MULTIPLIER=2

# Order Processing
ORDER_TIMEOUT_MINUTES=30
PAYMENT_TIMEOUT_MINUTES=15